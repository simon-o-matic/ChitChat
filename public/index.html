<html>
<head>

  <script src="/socket.io/socket.io.js"></script>
  <script src="jquery-2.1.0.min.js"></script>

  <style>
    #messages {
      border: 5px;
      width: 70%;
      height: 80%;
      border-style: dashed;
      border-color: black
    }

    #msg {
      background-color: yellow;
    }

    body {
      background-color: wheat;
    }

  </style>
</head>

<body>

<div id=login_page>
Login: <input id=username type=text> <input id='login' type=button value="Login">
</div>
<input size=50 id=msg type=text> <input id='send' type=button value="Send">

<div id=messages />

<script>
  var socket = io.connect('http://localhost');

  socket.on('message', function (data) {
    $("#messages").append("<div><b>" + data.username + "</b>>> " + data.message + "</div>");
  });

  socket.on('arrival', function (data) {
    $("#messages").append("<div><b>" + data.username + "</b> has swankered in for a chat.");
  });
  socket.on('lurker', function (data) {
    $("#messages").append("<div>There is a new lurker in the house... (" + data + ")</div>");
  });
  socket.on('departure', function (data) {
    $("#messages").append("<div><b>" + data.username + "</b> has left the building.");
  });
  
  $("#send").click(function (e) {
    socket.emit("message", $("#msg").val());
    $("#msg").val(" ");
  });
  $("#login").click(function (e) {
    socket.emit("login", {username: $("#username").val(), password: prompt('password')}, function (result) {
      alert(result);
    });
  });
</script>

</body>
</html>